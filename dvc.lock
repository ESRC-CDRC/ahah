schema: '2.0'
stages:
  osm_graph:
    cmd: python -m ahah.osm_graph
    outs:
    - path: data/processed/osm/edges.parquet
      md5: 22a0069aa8860feb28d64b9c3b8c737f
      size: 689830562
    - path: data/processed/osm/nodes.parquet
      md5: a8564d094cd005710294bb77c69fe86d
      size: 148667002
    - path: data/raw/osm_pbf/edges.csv
      md5: 85592f35778f83b095cb465147371473
      size: 1528410107
    - path: data/raw/osm_pbf/great-britain-latest.osm.pbf
      md5: 55e1d01607158cb323555f1623266934
      size: 1303152899
    - path: data/raw/osm_pbf/nodes.csv
      md5: 6d7e9124b4ecfa3eb4e815cd20544427
      size: 239634481
  get_nhs:
    cmd: python -m ahah.get_nhs
    outs:
    - path: data/raw/nhs/edispensary.csv
      md5: 08b0917beed22ab5d22c4ae21d0d7b8e
      size: 3614340
    - path: data/raw/nhs/egdpprac.csv
      md5: 4dc17037a5f685d23bb84cd52235f486
      size: 1853765
    - path: data/raw/nhs/epraccur.csv
      md5: 56822f6bf35907c4775be4f343072f1f
      size: 3245662
    - path: data/raw/nhs/ets.csv
      md5: fe02d5c044ca21250894279ec493c0c4
      size: 5961248
    - path: data/raw/nhs/scotland/dentists.csv
      md5: 4f02f592ca21a916a55b40e4f60acd2c
      size: 124458
    - path: data/raw/nhs/scotland/gpp.csv
      md5: 4e1bc2658cd6bdce116b21f13ac8a0ee
      size: 167311
    - path: data/raw/nhs/scotland/hospitals.csv
      md5: ff61aae99ccdda689b6929d01a6180ab
      size: 38356
    - path: data/raw/nhs/scotland/pharmacies.csv
      md5: bda581caf6613b94585caa26ec525930
      size: 156427
  process_routing:
    cmd: python -m ahah.process_routing
    deps:
    - path: data/processed/osm/nodes.parquet
      md5: 9e41141ee596bb53d2b20adab3853c96
      size: 54677314
    - path: data/raw/bluespace
      md5: 47aa3cd33c5f77473514cdaf7cecec2d.dir
      size: 2056885894
      nfiles: 1076
    - path: data/raw/greenspace/access.shp
      md5: 217231f622e8690d1ea1cc3aec341c6b
      size: 12760320
    - path: data/raw/nhs/edispensary.csv
      md5: 08b0917beed22ab5d22c4ae21d0d7b8e
      size: 3614340
    - path: data/raw/nhs/egdpprac.csv
      md5: 4dc17037a5f685d23bb84cd52235f486
      size: 1853765
    - path: data/raw/nhs/epraccur.csv
      md5: 56822f6bf35907c4775be4f343072f1f
      size: 3245662
    - path: data/raw/nhs/ets.csv
      md5: fe02d5c044ca21250894279ec493c0c4
      size: 5961248
    - path: data/raw/nhs/scotland/dentists.csv
      md5: 4f02f592ca21a916a55b40e4f60acd2c
      size: 124458
    - path: data/raw/nhs/scotland/gpp.csv
      md5: 4e1bc2658cd6bdce116b21f13ac8a0ee
      size: 167311
    - path: data/raw/nhs/scotland/hospitals.csv
      md5: ff61aae99ccdda689b6929d01a6180ab
      size: 38356
    - path: data/raw/nhs/scotland/pharmacies.csv
      md5: bda581caf6613b94585caa26ec525930
      size: 156427
    - path: data/raw/onspd/postcodes.csv
      md5: 64cbe97288ce9f9558e1cae3c2f96dba
      size: 1340976289
    outs:
    - path: data/processed/bluespace.parquet
      md5: 95485b6b4cb794dee76e4722b0e07aca
      size: 33911823
    - path: data/processed/dentists.parquet
      md5: 8da6dcaaf623b5ae543500f156579f90
      size: 28061452
    - path: data/processed/gpp.parquet
      md5: 98e29d3a83e1abf5628fbb8e6392e5d7
      size: 28049365
    - path: data/processed/greenspace.parquet
      md5: 42989c63ea1bb904c3aeef75e9dbcb1b
      size: 21336654
    - path: data/processed/hospitals.parquet
      md5: 52e7281bde034fa85bab1d01267bb8ca
      size: 27385468
    - path: data/processed/pharmacies.parquet
      md5: 6a6e6fe2750121e266fb2ade95e2faa8
      size: 30974281
    - path: data/processed/postcodes.parquet
      md5: 8f9e9568e9da41722c1921ca63adbfdb
      size: 25876092
  process_air:
    cmd: python -m ahah.process_air
    deps:
    - path: data/raw/air/mapno22019.csv
      md5: f128a8d4b0092a6a761e2e4816996a89
      size: 8660103
    - path: data/raw/air/mappm102019g.csv
      md5: 128ec888423a2a1d6e5cc15a56a915e6
      size: 8660504
    - path: data/raw/air/mapso22019.csv
      md5: e86ae1a958288024c62d470e892761e1
      size: 8869828
    - path: data/raw/lsoa/england_lsoa_2011.shp
      md5: fd2766d0c0da64b8ff359704a396b057
      size: 497942736
    outs:
    - path: data/out/lsoa_air.csv
      md5: fcaa940bf0f6e9a94baab6483c9739b6
      size: 1890773
  greenspace_passive:
    cmd: python -m ahah.greenspace_passive
    deps:
    - path: data/processed/postcodes.parquet
      md5: ae046e203773aad625af5df8a0176b17
      size: 31077227
    - path: data/raw/greenspace/site.shp
      md5: bfc5f161dbfa3c85f331789eb29fa331
      size: 83836752
    outs:
    - path: data/out/greenspace_passive.csv
      md5: c96400b25a802eb9c37a0c535c72c0fb
      size: 115772328
  os_highways:
    cmd: python -m ahah.os_highways
    deps:
    - path: data/raw/os_highways/Highways_Data_March19.gdb.zip
      md5: 64526f270e1778406689166840da0f1e
      size: 2320550286
    outs:
    - path: data/processed/osm/edges.parquet
      md5: a594787ddfc9d9e9f8ce74f00b0e0939
      size: 103595211
    - path: data/processed/osm/nodes.parquet
      md5: 9e41141ee596bb53d2b20adab3853c96
      size: 54677314
