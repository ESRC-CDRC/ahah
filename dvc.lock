schema: '2.0'
stages:
  osm_graph:
    cmd: python -m ahah.osm_graph
    outs:
    - path: data/processed/osm/edges.parquet
      md5: 22a0069aa8860feb28d64b9c3b8c737f
      size: 689830562
    - path: data/processed/osm/nodes.parquet
      md5: a8564d094cd005710294bb77c69fe86d
      size: 148667002
    - path: data/raw/osm_pbf/edges.csv
      md5: 85592f35778f83b095cb465147371473
      size: 1528410107
    - path: data/raw/osm_pbf/great-britain-latest.osm.pbf
      md5: 55e1d01607158cb323555f1623266934
      size: 1303152899
    - path: data/raw/osm_pbf/nodes.csv
      md5: 6d7e9124b4ecfa3eb4e815cd20544427
      size: 239634481
  get_nhs:
    cmd: python -m ahah.get_nhs
    outs:
    - path: data/raw/nhs/edispensary.csv
      md5: 08b0917beed22ab5d22c4ae21d0d7b8e
      size: 3614340
    - path: data/raw/nhs/egdpprac.csv
      md5: 4dc17037a5f685d23bb84cd52235f486
      size: 1853765
    - path: data/raw/nhs/epraccur.csv
      md5: 56822f6bf35907c4775be4f343072f1f
      size: 3245662
    - path: data/raw/nhs/ets.csv
      md5: fe02d5c044ca21250894279ec493c0c4
      size: 5961248
    - path: data/raw/nhs/scotland/dentists.csv
      md5: 4f02f592ca21a916a55b40e4f60acd2c
      size: 124458
    - path: data/raw/nhs/scotland/gpp.csv
      md5: 4e1bc2658cd6bdce116b21f13ac8a0ee
      size: 167311
    - path: data/raw/nhs/scotland/hospitals.csv
      md5: 8e995fe4d4517c8f72b9196253a38981
      size: 38345
    - path: data/raw/nhs/scotland/pharmacies.csv
      md5: bda581caf6613b94585caa26ec525930
      size: 156427
  process_routing:
    cmd: python -m ahah.process_routing
    deps:
    - path: data/processed/osm/nodes.parquet
      md5: c34e65013ee63e0618c4d5c444242dc2
      size: 54677314
    - path: data/raw/bluespace
      md5: 47aa3cd33c5f77473514cdaf7cecec2d.dir
      size: 2056885894
      nfiles: 1076
    - path: data/raw/greenspace/access.shp
      md5: 217231f622e8690d1ea1cc3aec341c6b
      size: 12760320
    - path: data/raw/nhs/edispensary.csv
      md5: 08b0917beed22ab5d22c4ae21d0d7b8e
      size: 3614340
    - path: data/raw/nhs/egdpprac.csv
      md5: 4dc17037a5f685d23bb84cd52235f486
      size: 1853765
    - path: data/raw/nhs/epraccur.csv
      md5: 56822f6bf35907c4775be4f343072f1f
      size: 3245662
    - path: data/raw/nhs/ets.csv
      md5: fe02d5c044ca21250894279ec493c0c4
      size: 5961248
    - path: data/raw/nhs/scotland/dentists.csv
      md5: 4f02f592ca21a916a55b40e4f60acd2c
      size: 124458
    - path: data/raw/nhs/scotland/gpp.csv
      md5: 4e1bc2658cd6bdce116b21f13ac8a0ee
      size: 167311
    - path: data/raw/nhs/scotland/hospitals.csv
      md5: 8e995fe4d4517c8f72b9196253a38981
      size: 38345
    - path: data/raw/nhs/scotland/pharmacies.csv
      md5: bda581caf6613b94585caa26ec525930
      size: 156427
    - path: data/raw/onspd/postcodes.csv
      md5: 64cbe97288ce9f9558e1cae3c2f96dba
      size: 1340976289
    outs:
    - path: data/processed/bluespace.parquet
      md5: f34fa2924ebb69d1a4c30f814386c032
      size: 43741673
    - path: data/processed/dentists.parquet
      md5: 54589fd9c9146f6c1cdd6481acf37da1
      size: 292724
    - path: data/processed/gpp.parquet
      md5: f0fc8683a1fbe30980b65911204efe04
      size: 362346
    - path: data/processed/greenspace.parquet
      md5: 60b780d8e9bd46d5408b1d56bfdabf08
      size: 14658342
    - path: data/processed/hospitals.parquet
      md5: d9173a1c354ba0362384ca96322a8789
      size: 758591
    - path: data/processed/pharmacies.parquet
      md5: 661628886968de0ea4ef81d59df1fcb9
      size: 344172
    - path: data/processed/postcodes.parquet
      md5: 5f6da1190ca5bdcfdec401ee385c6f52
      size: 25875971
  process_air:
    cmd: python -m ahah.process_air
    deps:
    - path: data/raw/air/mapno22019.csv
      md5: f128a8d4b0092a6a761e2e4816996a89
      size: 8660103
    - path: data/raw/air/mappm102019g.csv
      md5: 128ec888423a2a1d6e5cc15a56a915e6
      size: 8660504
    - path: data/raw/air/mapso22019.csv
      md5: e86ae1a958288024c62d470e892761e1
      size: 8869828
    - path: data/raw/lsoa/england_lsoa_2011.shp
      md5: fd2766d0c0da64b8ff359704a396b057
      size: 497942736
    outs:
    - path: data/out/lsoa_air.csv
      md5: fcaa940bf0f6e9a94baab6483c9739b6
      size: 1890773
  greenspace_passive:
    cmd: python -m ahah.greenspace_passive
    deps:
    - path: data/processed/postcodes.parquet
      md5: ae046e203773aad625af5df8a0176b17
      size: 31077227
    - path: data/raw/greenspace/site.shp
      md5: bfc5f161dbfa3c85f331789eb29fa331
      size: 83836752
    outs:
    - path: data/out/greenspace_passive.csv
      md5: c96400b25a802eb9c37a0c535c72c0fb
      size: 115772328
  os_highways:
    cmd: python -m ahah.os_highways
    deps:
    - path: data/raw/os_highways/Highways_Data_March19.gdb.zip
      md5: 64526f270e1778406689166840da0f1e
      size: 2320550286
    outs:
    - path: data/processed/osm/edges.parquet
      md5: a488e42f22f9b61d8117510291113b5c
      size: 103594923
    - path: data/processed/osm/nodes.parquet
      md5: c34e65013ee63e0618c4d5c444242dc2
      size: 54677314
